<html>
	<body>
		<script>
			var hasKey1 = false;
			var hasKey2 = false;
			var hasLockpick = false;
			function locked_drawer() {
				var lockedDrawer = prompt("Enter a four-letter code.");
				if (lockedDrawer == "jail" || lockedDrawer == "Jail" || lockedDrawer == "JAIL") {
				unlocked_drawer();
			}
				else {
					alert ("Incorrect passcode.");
					office();
				}
			}

			function unlocked_drawer() {
				if (hasKey1 == true) {
					alert("Inside of the drawer you find another key, which you use to open the final of the double-locked door's locks and escape.");
				}
					else {
						alert("Inside of the drawer you find a key for one of the door's locks.");
						room_two();
						hasKey2 = true
					}
			}

			function locked_box() {
				var lockedBox = prompt("Enter a six-letter code.");
				if (lockedBox == "prison" || lockedBox == "Prison" || lockedBox == "PRISON") {
				unlocked_box();
				}	
				else {
					alert("Incorrect passcode.");
					room_two();
				}
			}

			function unlocked_box() {
				alert("The box opens. You find a lockpick. You try to pick the rusted lock of the office and succeed. Inside you find a cash box with five hundred dollars in it, which you deliver to the guard, in exchange for a key.");
				hasKey1 = true;
				hasLockpick = true;
				room_two();
			}
				function office() {
					alert("You go to the office, in which you find some old police badges with letters worn away; ohn Green, Robert Sm th, eo Johnson, and Andrew J ckson. You also find a locked desk drawer with a four-letter code.");
				locked_drawer();
			}

			function room_one() {
				var roomOne = prompt("This is the main room of the prison. There is a door to the outside, but it is double-locked. There is a guard on one side of the room and a door to the fitness area on the other. Do you: A. Talk to the guard or B. Enter the fitness area?");
				if (roomOne == "A" || roomOne == "A." || roomOne == "a" || roomOne == "a.") {
				alert("The guard whispers 'I'll give you one of the keys to the exit for five hundred bucks.' You thank him and enter the fitness area.");
				room_two();
				}
				if (roomOne == "B" || roomOne == "B." || roomOne == "b" || roomOne == "b.") {
				room_two();
				}
			}

			function room_two() {
				var roomTwo = prompt("In the fitness area, there is a large track surrounded by stone walls. On one stone wall, there is graffiti reading SINROP. There is also a small locked box with a six-letter code and three doors; one to the lunch area, one to a locked office with a rusted, misshapen, keyhole, and one back to the main room. Do you: A. Try to open the box, B. Go to the lunch area, C. go back to the main room, or D. Enter the office");
				if (roomTwo == "A" || roomTwo == "A." || roomTwo == "a" || roomTwo == "a.") {
				locked_box();
				}
			if (roomTwo == "B" || roomTwo == "B." || roomTwo == "b" || roomTwo == "b.") {
				alert("You realize that the door is locked, only opening at breakfast, lunch, and dinner.");
				room_two();
				}
			if (roomTwo == "C" || roomTwo == "C." || roomTwo == "c" || roomTwo == "c.") {
				room_one();
				}
			if ((roomTwo == "D" || roomTwo == "D." || roomTwo == "d" || roomTwo == "d.") && hasLockpick == true) {
				office();
				}
			if ((roomTwo == "D" || roomTwo == "D." || roomTwo == "d" || roomTwo == "d.") && hasLockpick == false) {
				room_two();
				}
			}

			alert("You were a thief. You were caught and are now in prison. You must find your way out.");
			room_one();
		</script>
	</body>
</html>